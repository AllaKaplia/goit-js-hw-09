{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,OAAQC,SAASC,cAAc,UAGjCH,EAAKC,OAAOG,iBAAiB,SAQ7B,SAA0BC,GACD,UAApBA,EAAIC,OAAOC,OACZC,EAAYC,OAAOJ,EAAIC,OAAOI,QAGT,WAApBL,EAAIC,OAAOC,OACZI,EAAiBF,OAAOJ,EAAIC,OAAOI,QAGd,SAApBL,EAAIC,OAAOC,OACZK,EAAWH,OAAOJ,EAAIC,OAAOI,O,IAjBjCV,EAAKC,OAAOG,iBAAiB,UAqB7B,SAAyBC,GACvBA,EAAIQ,iBAIN,SAAsBC,EAAYC,EAAaC,GAC7C,IAAIC,EAAQH,EACRI,EAAI,EACR,KAAOA,GAAKH,GACVI,EAAcD,EAAGD,GAAOG,MAAK,SAACV,GAC5BW,EAAAvB,GAASwB,OAAOC,QAAQ,uBAA8CC,OAArBd,EAAMe,SAAS,QAAkBD,OAAZd,EAAMO,MAAM,M,IACjFS,OAAM,SAAChB,GACRW,EAAAvB,GAASwB,OAAOK,QAAQ,sBAA2CH,OAArBd,EAAMe,SAAS,QAAkBD,OAAZd,EAAMO,MAAM,M,IAEjFA,GAASD,EACTE,GAAK,C,CAbPU,CAAapB,EAAWG,EAAgBC,E,IArB1C,IAAIJ,EAAY,EACZG,EAAiB,EACjBC,EAAW,EAqCf,SAASO,EAAcM,EAAUR,GAC/B,IAAMY,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACLN,EACFI,EAAQ,CAAER,WAAUR,UAEpBiB,EAAO,CAAET,WAAUR,S,GAEpBA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  formEl: document.querySelector('.form'),\n}\n\nrefs.formEl.addEventListener('input', onFormInputValue);\nrefs.formEl.addEventListener('submit', onPromisesStart);\n\nlet delayTime = 0;\nlet amountQuantity = 0;\nlet stepTime = 0;\n\n\nfunction onFormInputValue(evt) {\n  if(evt.target.name === 'delay'){\n    delayTime = Number(evt.target.value);\n  }\n\n  if(evt.target.name === 'amount'){\n    amountQuantity = Number(evt.target.value);\n  }\n\n  if(evt.target.name === 'step'){\n    stepTime = Number(evt.target.value);\n  }\n};\n\nfunction onPromisesStart(evt) {\n  evt.preventDefault()\n  makePromises(delayTime, amountQuantity, stepTime)\n};\n\nfunction makePromises(delayValue, amountValue, stepValue) {\n  let delay = delayValue;\n  let i = 1;\n  while (i <= amountValue) {\n    createPromise(i, delay).then((value) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${value.position} in ${value.delay}ms`);\n    }).catch((value) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${value.position} in ${value.delay}ms`);\n    });\n    delay += stepValue;\n    i += 1;\n  }\n}\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  \n  return new Promise((resolve, reject) => { \n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay })\n      } else {\n        reject({ position, delay })\n      }\n    }, delay);\n  });\n}"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","formEl","document","querySelector","addEventListener","evt","target","name","$ce04d3a99e08e73b$var$delayTime","Number","value","$ce04d3a99e08e73b$var$amountQuantity","$ce04d3a99e08e73b$var$stepTime","preventDefault","delayValue","amountValue","stepValue","delay","i","$ce04d3a99e08e73b$var$createPromise","then","$parcel$interopDefault","Notify","success","concat","position","catch","failure","$ce04d3a99e08e73b$var$makePromises","shouldResolve","Math","random","Promise","resolve","reject","setTimeout"],"version":3,"file":"03-promises.37e08384.js.map"}